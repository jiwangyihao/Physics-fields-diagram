<!--
	此示例下载自 https://echarts.apache.org/examples/zh/editor.html?c=flowGL-noise&gl=1&theme=dark&code=CQOg5gpgLgygxgJwJYAcoAoBQACbByACyihQGcAuAekoDMBDUqAGwE8QArUgEwiaQDcEIAHbRKwlAFtKpJJJRMIADwC0wgPZJSEAAIAmEABYQABhlyFytZu0dSeTAEoQXdaPQ0ArsLhQkb7HRHbABvHGx-OgRsDS0IbABeGIgAd2wYC0UlADkbCHQAWTooAhAEOmFXSUcAbnDI6NjtPUTktIz5LNy4wuLS8sr1arrcBuwuJAqARlaAbSmDAFYAGmw9ExBFgF0RiKjxyeEWpNm9AHZN1fXNnfr9gGsARxmkqd2xp-PsFUN3_aUtARPK03uEvD4_AFIKJylAIAARYp0IKhcKjfZcJFzW64XA0dTRdBjJCtEw1bAkgA8SUMZIpAGp6cEwrjcfjCWN2KTyVzqdhaTzGcy0ay9tEuEpEiLRYF0E8ZpRAkUSiAUOoUugSSoDtNZiYtldgvTsMrSmqNVztRNdVMDWtHA7sAAqaUywJanXCKZ6raOyiumWmkCkR4IDBB82a76e736w3YY0R9XoS0x-Z2vSO-kB3HoOWPFqK3oqyMe61HH3xxN9VXJ1PlvTpw2Ol1u0VRq2HRv6v051lBkNh4tm5NlruV-0Jk01yP18e25u7GVjLgsKVt3B5-XYItJjVj3VxyfVkt16Pl70L-0tvu5uc233Bf0b3ED0Phmej8-HWMZo3T08LW_B9mwTW8twLHclU_fdgIrI9MynPcUzgxsr0zG8X03e8K1tXssIA0pBw_QCO09bs_yQmCUM7Co0L_WoczgNxSHURQQCYdQwHQCVVlXRi22ocZJQSHMhM3IM6AAI1IHilCfQIJUSBIkhMbAAH5sBmchhJbQjaw1SSZLkxxVgBUggQEt0hNXddrMVCSa2k2T-Kgni1xU1SNK07AdP44InX0yMjJclhTOwczLKXUUxkkOgwFaZC3yHJTAqU41bLSsKzMBTwrOXOgmCKET9LipQiUK4rVjisB8piyqkGERKa0kRqKqKxrqviurWUxKA6FVTwLPQWYkFWdg-KUPiWC6sBfWi3AAF8RWW1kEGgTwECavq6F2VaxT2DqmqSABJYQaEapAoBYP5okiIq6BKlQzou4Qrpuu5xSxJJoQgWEESRIJdkkFgAGECCiKBg2gAB5NB_GEdAWVxfgtE8Sq6BQHTkdZCz1R0-gmG0ZZXVa4QdPugpOtJx6KYxqbXQmSQIGEWQ3B0wwSZlRqACUKkgbGmLYgkdNmW88AQMApORRYTGWWXlj0RYVg2AA2Rw8C5jcJalmW5YVpWVZATNNfFyXpfQdY5amEx9aN9XTZfHWLb0G3limN2FbVpWNa1ttneRPR1nd4PDHtxZfbN3XLaV92AGY5dpZY1bOCPHe183A4TkO5bjo2zkjp3M8tvP3bd7ONjOH30_94u9CTm25djyu079t0A8tww9GWABOJu5cr1PC4z6P685gAOa2jfH4fa9HwxVeWM5rYHkBx-rtuZQ7-vx-WVX9eTtfW6jl2Fa9w_x6Hmv27rxYpmWJPV572eb9HxZu4rw-e43k_A8WOPFYDy_sfIub9OZuyflfTeopt7K2TvAqYGscwGhzOoFAdA4DvVFnLLSWxXT7SWm3JQABBcygsZTXRQBAHSeB7qeAgNfXAeMUgE0KsTV0j0tAABlGrUNRG2PgogYDXUUOQjczFOIIBoQAYhoHIhwbYCG4kWtA0gCgro8NEGImUzDWFEwgNA3AgiIDCJYKI_h4jhZSPwLfFYhtFZwI2CbHMSilorTbiwUhWhtG4koXw2hhV6GMOwLowm7CZScNIJovhONRTGNMeY2JMoJEi3wLI-RLj8GqPUVAaJPjcYEHxtgMJBiczxJETE28KTrGwLsXA-xTikGKPwe4kU2hkAQAoNgMWMokm-JYFQmhNBOIpAAOJcOCbgHafkkSGOwOgsMSA4CKHhCzWQ10dILF3jmBZfhlkmKQAALz4d3HMpBPBUIQKQOgnRGpgA5nM3ZSzFAABUBn-OMZM-ZkNnkmKoRALgmzF5ZJFHgpajFFq1CAA
	⚠ 请注意，该图表不是 Apache ECharts 官方示例，而是由用户代码生成的。请注意鉴别其内容。
-->
<!DOCTYPE html>
<html lang="en" style="height: 100%">
<head>
  <meta charset="utf-8">
  <title>标量场仿真示意（随机生成）</title>
</head>
<body
    style="height: 100%; margin: 0; display: flex; justify-content: center; align-items: center; flex-direction: column;">
<h3>标量场仿真示意（随机生成）</h3>
<div id="container" style="height: 80vmin; width: 80vmin"></div>

<script type="text/javascript" src="https://cdn.staticfile.net/jquery/3.7.1/jquery.min.js"></script>
<script type="text/javascript" src="https://cdn.jsdmirror.com/npm/echarts@5.5.0/dist/echarts.min.js"></script>
<!-- theme -->
<script type="text/javascript" src="https://cdn.jsdmirror.com/npm/echarts@5.5.0/theme/dark.js"></script>
<!-- Uncomment this line if you want to dataTool extension
<script type="text/javascript" src="https://registry.npmmirror.com/echarts/5.5.0/files/dist/extension/dataTool.min.js"></script>
-->

<script type="text/javascript" src="https://cdn.jsdmirror.com/npm/echarts-gl@2/dist/echarts-gl.min.js"></script>

<!-- Uncomment this line if you want to echarts-stat extension
<script type="text/javascript" src="https://registry.npmmirror.com/echarts-stat/latest/files/dist/ecStat.min.js"></script>
-->
<!-- Uncomment this line if you want to use map
<script type="text/javascript" src="https://registry.npmmirror.com/echarts/4.9.0/files/map/js/china.js"></script>
<script type="text/javascript" src="https://registry.npmmirror.com/echarts/4.9.0/files/map/js/world.js"></script>
-->
<!-- Uncomment these two lines if you want to use bmap extension
<script type="text/javascript" src="https://api.map.baidu.com/api?v=3.0&ak=YOUR_API_KEY"></script>
<script type="text/javascript" src="https://registry.npmmirror.com/echarts/5.5.0/files/dist/extension/bmap.min.js"></script>
-->

<script type="text/javascript">
  var dom = document.getElementById('container');
  var myChart = echarts.init(dom, 'dark', {
    renderer: 'canvas',
    useDirtyRect: false
  });
  var app = {};

  var option;

  $.getScript(
      'https://fastly.jsdelivr.net/npm/simplex-noise@2.4.0/simplex-noise.js'
  ).done(function () {
    var noise = new SimplexNoise(Math.random);

    function generateData(theta, min, max) {
      var data = [];
      for (var i = 0; i <= 40; i++) {
        for (var j = 0; j <= 40; j++) {
          for (var k = 0; k <= 40; k++) {
            var value = noise.noise3D(i / 20, j / 20, k / 20);
            valMax = Math.max(valMax, value);
            valMin = Math.min(valMin, value);
            data.push([i, j, k, value * 2 + 4]);
          }
        }
      }
      return data;
    }

    var valMin = Infinity;
    var valMax = -Infinity;
    var data = generateData(2, -5, 5);
    console.log(valMin, valMax);
    myChart.setOption(
        (option = {
          visualMap: {
            show: false,
            min: 2,
            max: 6,
            inRange: {
              symbolSize: [0.5, 15],
              color: [
                '#313695',
                '#4575b4',
                '#74add1',
                '#abd9e9',
                '#e0f3f8',
                '#ffffbf',
                '#fee090',
                '#fdae61',
                '#f46d43',
                '#d73027',
                '#a50026'
              ],
              colorAlpha: [0.2, 1]
            }
          },
          xAxis3D: {
            type: 'value'
          },
          yAxis3D: {
            type: 'value'
          },
          zAxis3D: {
            type: 'value'
          },
          grid3D: {
            axisLine: {
              lineStyle: {color: '#fff'}
            },
            axisPointer: {
              lineStyle: {color: '#fff'}
            },
            viewControl: {
              projection: 'orthographic'
            }
          },
          series: [
            {
              type: 'scatter3D',
              data: data
            }
          ]
        })
    );
  });


  if (option && typeof option === 'object') {
    myChart.setOption(option);
  }

  window.addEventListener('resize', myChart.resize);
</script>
</body>
</html>
